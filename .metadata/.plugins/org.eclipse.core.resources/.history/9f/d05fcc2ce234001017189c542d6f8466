package thw.edu.javaII.port.warehouse.ui;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JPanel;

import thw.edu.javaII.port.warehouse.ui.common.Session;
import thw.edu.javaII.port.warehouse.ui.panels.BestandPage;
import thw.edu.javaII.port.warehouse.ui.panels.InfoPage;
import thw.edu.javaII.port.warehouse.ui.panels.SearchKunde;
import thw.edu.javaII.port.warehouse.ui.panels.SearchPage;
import thw.edu.javaII.port.warehouse.ui.panels.StatistikPage;
import thw.edu.javaII.port.warehouse.ui.panels.WelcomePage;
import thw.edu.javaII.port.warehouse.ui.panels.AddBestellung;
import thw.edu.javaII.port.warehouse.ui.panels.BestellungPage;

public class LagerUIHandler implements ActionListener {
    private Session ses;
    private JFrame frame, parent;
    private JPanel contentPane;

    public LagerUIHandler(Session ses, JFrame frame, JPanel contentPane, JFrame parent) {
        super();
        this.ses = ses;
        this.frame = frame;
        this.contentPane = contentPane;
        this.parent = parent;
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        MenuActionCommands command = MenuActionCommands.valueOf(e.getActionCommand());
        BorderLayout layout;
        switch (command) {
            case BEENDEN:
                ses.close();
                frame.dispose();
                break;
            case STARTSEITE:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new WelcomePage(), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case SERVERBEENDEN:
                ses.getCommunicator().closeServer();
                frame.dispose();
                break;
            case BESTAND:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new BestandPage(ses), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case STATISTIK:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new StatistikPage(ses, parent), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case SUCHEN:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new SearchPage(ses, parent), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case INFO:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new InfoPage(), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case SEARCH_KUNDE:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new SearchKunde(ses, parent), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            case ADD_BESTELLUNG:
                AddBestellung ab = new AddBestellung(parent, ses);
                ab.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
                ab.setModalityType(JDialog.ModalityType.APPLICATION_MODAL);
                ab.setVisible(true);
                break;
            case BESTELLUNG_PAGE:
                layout = (BorderLayout) contentPane.getLayout();
                contentPane.remove(layout.getLayoutComponent(BorderLayout.CENTER));
                contentPane.add(new BestellungPage(ses), BorderLayout.CENTER);
                frame.setVisible(true);
                break;
            default:
                break;
        }
    }
}